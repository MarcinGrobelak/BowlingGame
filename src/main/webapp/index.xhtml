<html xmlns="http://www.w3.org/1999/xhtml" 
	xmlns:h="http://java.sun.com/jsf/html" 
	xmlns:f="http://java.sun.com/jsf/core" 
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">  
 
	<h:head>  
 		<title>Bowling game</title>
	</h:head>  
      
	<h:body>  
		<h:form>  
			<p:panel id="buttons">
				<c:forEach begin="0" end="#{viewBean.possiblePoints}"  varStatus="loop">
		  				<p:commandButton value="#{loop.index}" action="#{viewBean.roll(loop.index)}" 
		  								 update="buttons gameInfo scoreTable"/>
				</c:forEach>
			</p:panel>
			
			<h:panelGrid id = "gameInfo" columns = "2" cellpadding = "10" >
				<p:outputLabel for="@next" value="Overall score:"/>
				<p:outputLabel id="score" value="#{viewBean.getOverallScore()}"/>
			</h:panelGrid>
			
			<p:dataGrid  id="scoreTable" var="frame" value="#{viewBean.frames}"
						 columns="3" layout="grid">
						 
				<p:panel header="Round #{viewBean.frames.indexOf(frame) + 1}" 
						 style="text-align:center">	
					<p:outputLabel value="#{frame.firstRoll}" />	
					<p:outputLabel value="#{frame.secondRollLabel}" />
					<p:outputLabel value="#{frame.thirdRoll}" 
								   rendered="#{frame.final}" />
					<p:outputLabel value="#{frame.score}" />
				</p:panel>	 
			</p:dataGrid >			
		</h:form>
	</h:body>  
</html>